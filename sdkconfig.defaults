# Compiler settings
CONFIG_COMPILER_CXX_EXCEPTIONS=y
CONFIG_CXX_EXCEPTIONS=y
CONFIG_COMPILER_CXX_EXCEPTIONS_EMG_POOL_SIZE=0
CONFIG_CXX_EXCEPTIONS_EMG_POOL_SIZE=0
CONFIG_COMPILER_OPTIMIZATION_SIZE=y

# FreeRTOS settings
CONFIG_FREERTOS_UNICORE=y
CONFIG_FREERTOS_ISR_STACKSIZE=2096
CONFIG_FREERTOS_USE_STATS_FORMATTING_FUNCTIONS=y
CONFIG_FREERTOS_VTASKLIST_INCLUDE_COREID=y
CONFIG_FREERTOS_GENERATE_RUN_TIME_STATS=y
CONFIG_FREERTOS_USE_TRACE_FACILITY=y

# General settings
CONFIG_LOG_COLORS=n
CONFIG_BOOTLOADER_LOG_LEVEL_NONE=y
CONFIG_BOOTLOADER_LOG_LEVEL=0

# Hardware specific settings
CONFIG_ESP_INT_WDT_TIMEOUT_MS=3000
## ESP32-WROOM-32E
CONFIG_ESPTOOLPY_FLASHMODE_QIO=y
CONFIG_BOOTLOADER_SPI_WP_PIN=7
CONFIG_ESPTOOLPY_FLASHSIZE="4MB"
CONFIG_ESPTOOLPY_FLASHSIZE_4MB=y
## ESP32-POE-ISO ETHERNET config
CONFIG_ETH_USE_ESP32_EMAC=y
CONFIG_ETH_PHY_INTERFACE_RMII=y
CONFIG_ETH_RMII_CLK_OUT_GPIO=17
CONFIG_ETH_RMII_CLK_OUTPUT=y
CONFIG_AD2IOT_ETH_PHY_LAN8720=y
CONFIG_AD2IOT_ETH_MDC_GPIO=23
CONFIG_AD2IOT_ETH_MDIO_GPIO=18
CONFIG_AD2IOT_ETH_PHY_RST_GPIO=-1
CONFIG_AD2IOT_ETH_PHY_POWER_GPIO=12
CONFIG_AD2IOT_ETH_PHY_ADDR=0

# Partition settings
CONFIG_PARTITION_TABLE_CUSTOM=y
CONFIG_PARTITION_TABLE_CUSTOM_FILENAME="partitions.4MB.csv"
CONFIG_PARTITION_TABLE_FILENAME="partitions.4MB.csv"
CONFIG_PARTITION_TABLE_OFFSET=0x8000
CONFIG_PARTITION_TABLE_MD5=y

# FATFS settings
CONFIG_FATFS_LFN_HEAP=y
CONFIG_FATFS_CODEPAGE_437=y
CONFIG_FATFS_CODEPAGE=437
CONFIG_FATFS_CODEPAGE_437=y
CONFIG_FATFS_MAX_LFN=255
CONFIG_FATFS_API_ENCODING_ANSI_OEM=y
CONFIG_FATFS_FS_LOCK=0
CONFIG_FATFS_TIMEOUT_MS=10000
CONFIG_FATFS_PER_FILE_CACHE=y

# Coredump settings
CONFIG_ESP_COREDUMP_ENABLE=y
CONFIG_ESP_COREDUMP_ENABLE_TO_FLASH=y
CONFIG_ESP_COREDUMP_DATA_FORMAT_ELF=y
CONFIG_ESP_COREDUMP_CHECKSUM_CRC32=y
CONFIG_ESP_COREDUMP_CHECK_BOOT=y
CONFIG_ESP_COREDUMP_MAX_TASKS_NUM=20

# LWIP settings
CONFIG_LWIP_LOCAL_HOSTNAME="ad2iot"
CONFIG_LWIP_IPV6_AUTOCONFIG=y
CONFIG_LWIP_MAX_SOCKETS=16

# MQTT client settings
CONFIG_MQTT_PROTOCOL_311=y
CONFIG_MQTT_TRANSPORT_SSL=y
CONFIG_MQTT_TRANSPORT_WEBSOCKET=y
CONFIG_MQTT_MSG_ID_INCREMENTAL=y
CONFIG_MQTT_REPORT_DELETED_MESSAGES=y

# HTTP(s) / WebSockets server
CONFIG_ESP_HTTPS_SERVER_ENABLE=y
CONFIG_ESP_HTTP_CLIENT_ENABLE_HTTPS=y
CONFIG_ESP_HTTP_CLIENT_ENABLE_BASIC_AUTH=y
CONFIG_HTTPD_WS_SUPPORT=y
## TODO: Make better...
CONFIG_ESP_TLS_INSECURE=y
CONFIG_ESP_TLS_SKIP_SERVER_CERT_VERIFY=y

# SSL/TLS certificate bundles
CONFIG_MBEDTLS_CERTIFICATE_BUNDLE_DEFAULT_CMN=y
CONFIG_MBEDTLS_CUSTOM_CERTIFICATE_BUNDLE=y
CONFIG_MBEDTLS_CUSTOM_CERTIFICATE_BUNDLE_PATH="certs"

# STSDK build settings
CONFIG_STDK_IOT_CORE=y
CONFIG_STDK_IOT_CORE_BSP_SUPPORT_ESP32=y
CONFIG_STDK_IOT_CORE_EASYSETUP_DISCOVERY_SSID=y
CONFIG_STDK_IOT_CORE_EASYSETUP_HTTP=y
CONFIG_STDK_IOT_CORE_EASYSETUP_HTTP_USE_SOCKET_API=y
CONFIG_STDK_IOT_CORE_LOG_LEVEL_ERROR=y
CONFIG_STDK_IOT_CORE_LOG_LEVEL_WARN=y
CONFIG_STDK_IOT_CORE_LOG_LEVEL_INFO=y
# CONFIG_STDK_IOT_CORE_LOG_LEVEL_DEBUG is not set
# CONFIG_STDK_IOT_CORE_SUPPORT_STNV_PARTITION is not set

# AD2IoT network settings
CONFIG_AD2IOT_USE_WIFI=y
CONFIG_AD2IOT_USE_ETHERNET=y
CONFIG_AD2IOT_USE_INTERNAL_ETHERNET=y

# AD2IoT default components enable/disable
CONFIG_AD2IOT_TOP=y
CONFIG_AD2IOT_FTP_DAEMON=y
CONFIG_AD2IOT_MQTT_CLIENT=y
CONFIG_AD2IOT_WEBSERVER_UI=y
CONFIG_AD2IOT_SER2SOCKD=y
CONFIG_AD2IOT_TWILIO_CLIENT=y
CONFIG_AD2IOT_PUSHOVER_CLIENT=y
